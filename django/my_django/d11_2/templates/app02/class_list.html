{% extends 'index.html' %}
{% load my_filter %}
{% block content %}
    <h3>班级信息页面</h3>
    <a href="{% url 'app02:add_class' %}">
        <button type="button" class="btn btn-lg btn-success" aria-label="Left Align">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> 添加
        </button>
    </a>
    <table class="table table-bordered text-center table-hover">
        <thead>
        <tr class="info">
            <td>序列号</td>
            <td>id</td>
            <td>班级</td>
            <td>教师</td>
            <td>操作</td>
        </tr>
        </thead>
        <tbody>
        {% for class in class_list %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ class.id }}</td>
                <td>{{ class.name }}</td>
                <td>
                    {% for i in class.teacher.all %}
                        {% if forloop.last %}
                            {{ i.name }}
                        {% else %}
                            {{ i.name }} |
                        {% endif %}

                    {% endfor %}
                </td>
                <td>
                    <a href="{% url 'app02:del_class' %}?id={{ class.id }}">
                        <button type="button" class="btn btn-sm btn-danger" aria-label="Left Align">
                            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>删除
                        </button>
                    </a>
                    |
                    <a href="{% url 'app02:edit_class' %}?id={{ class.id }}">
                        <button type="button" class="btn btn-sm btn-success" aria-label="Left Align">
                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>编辑
                        </button>
                    </a>
                </td>
            </tr>
        {% endfor %}

        </tbody>
    </table>

{% endblock %}